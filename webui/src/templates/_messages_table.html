<table>
  <thead>
    <tr>
      <th><a hx-get="{{ position_sort_url }}" hx-target="#messages-table" hx-swap="outerHTML">Position</a></th>
      <th><a hx-get="{{ date_sort_url }}" hx-target="#messages-table" hx-swap="outerHTML">Date</a></th>
      <th>Author</th>
      <th>Text</th>
    </tr>
  </thead>
  <tbody>
  {% for m in messages %}
    <tr>
      <td>{{ m.position }}</td>
      <td>{{ m.date.strftime('%Y-%m-%d %H:%M') }}</td>
      <td>{{ m.author }}</td>
      <td>{{ m.text }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<div class="pagination">
  <span>Page {{ page }} of {{ pages }}</span>
  {% if page > 1 %}
    <a hx-get="{{ page_url(page-1) }}" hx-target="#messages-table" hx-swap="outerHTML">Prev</a>
  {% endif %}
  {% if page < pages %}
    <a hx-get="{{ page_url(page+1) }}" hx-target="#messages-table" hx-swap="outerHTML">Next</a>
  {% endif %}
</div>
